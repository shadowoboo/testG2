<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
        crossorigin="anonymous">  
    <script src="../js/TweenMax.min.js"></script>
    <script src="../js/jquery-3.3.1.min.js"></script>
    <script src="../js/jquery-ui.min.js"></script>
    <script src="../js/Chart.js"></script>
    <script src="../js/index.js"></script>
    <script src="../js/common.js"></script>
    <link rel="stylesheet" href="../css/index.css">
    <title>Document</title>
</head>
<body>
    <div class="index">
        <section>
            <div class="worldMap">
                <img src="../images/index/map.svg">
                <div class="countryMap">
                    <div class="countryImg">
                        <img src="../images/index/US.png" alt="美國座標">
                        <div class="countryInfo">
                            <div class="countryInfoHeader">
                                <div class="countryInfoRadar">
                                    <canvas id="radarCanvas"></canvas>
                                </div>
                                <div class="countryInfoImg">
                                    <img src="../images/index/gold.png">
                                </div>
                                <div class="countryInfoStar">
                                    <ul>
                                        <li>共348次評價</li>
                                        <li>4.9/5</li>
                                        <li><img src="../images/index/star.png" alt="評價星等"></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="countryInfosection">
                                <h2>[日本] UHA味覺糖甘藷片</h2>
                                <p>UHA味覺糖推出的蕃薯片系列，採用鹿耳島黃金千貫品種的白皮地瓜製作，經常當作日本燒烤的主要原料，片片厚切，口感稍硬頗具咬勁，甜度適中和芳醇的香味，令人一吃上癮。收錄在2018年9月零食箱中。</p>
                            </div>
                            <div class="countryInfofooter">
                                <div class="countryInfoPrice">
                                    <h3>價格<span>$45</span></h3>
                                </div>
                                <div class="countryInfoAddCart">
                                    <button class="cart">加入購物車</button>
                                </div>
                                <div class="countryInfoHeart">
                                    <button class="heart"><i class="far fa-heart"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="countryImg">
                        <img src="../images/index/DE.png" alt="德國座標">
                    </div>
                    <div class="countryImg">
                        <img src="../images/index/BR.png" alt="巴西座標">
                    </div>
                    <div class="countryImg">
                        <img src="../images/index/UK.png" alt="英國座標">
                    </div>
                    <div class="countryImg">
                        <img src="../images/index/EG.png" alt="埃及座標">
                    </div>
                    <div class="countryImg">
                        <img src="../images/index/KR.png" alt="韓國座標">
                    </div>
                    <div class="countryImg">
                        <img src="../images/index/JP.png" alt="日本座標">
                    </div>
                    <div class="countryImg">
                        <img src="../images/index/AU.png" alt="澳洲座標">
                    </div>
                </div>
                <div class="snackMap" id="container">
                    <div class="snackImg slide1">
                        <img src="../images/index/snack-us.png" alt="零食icon">
                    </div>
                    <div class="snackImg slide2">
                        <img src="../images/index/snack-de.png" alt="零食icon">
                    </div>
                    <div class="snackImg slide3">
                        <img src="../images/index/snack-br.png" alt="零食icon">
                    </div>
                    <div class="snackImg slide4">
                        <img src="../images/index/snack-uk.png" alt="零食icon">
                    </div>
                    <div class="snackImg slide5">
                        <img src="../images/index/snack-eg.png" alt="零食icon">
                    </div>
                    <div class="snackImg slide1">
                        <img src="../images/index/snack-kr.png" alt="零食icon">
                    </div>
                    <div class="snackImg slide2">
                        <img src="../images/index/snack-jp.png" alt="零食icon">
                    </div>
                    <div class="snackImg slide3">
                        <img src="../images/index/snack-au.png" alt="零食icon">
                    </div>
                </div>  
            </div>
            <div class="cloudMap" id="container">
                <div class="cloudImg slide1">
                    <img src="../images/index/cloud-5.png" alt="地圖雲">
                </div>
                <div class="cloudImg slide2">
                    <img src="../images/index/cloud-6.png" alt="地圖雲">
                </div>
                <div class="cloudImg slide3">
                    <img src="../images/index/cloud-7.png" alt="地圖雲">
                </div>
                <div class="cloudImg slide4">
                    <img src="../images/index/cloud-1.png" alt="地圖雲">
                </div>
                <div class="cloudImg slide5">
                    <img src="../images/index/cloud-2.png" alt="地圖雲">
                </div>
                <div class="cloudImg slide1">
                    <img src="../images/index/cloud-3.png" alt="地圖雲">
                </div>
            </div>
            <div class="balloonMap">
                <div class="ballImg">
                    <img src="../images/index/green-balloon.png" alt="熱氣球">
                </div>
                <div class="ballImg">
                    <img src="../images/index/red-balloon.png" alt="熱氣球">
                </div>
            </div>
        </section>




    </div>




    <script>
        //函式內容都是直接從codepen抓的，所以我也看不太懂XDDDDDDDD
        //總之是取得滑鼠移動的距離，經過一堆計算之後讓物件移動相對應的距離
        function parallaxIt(e, target, movement) {
            var $this = $("#container");
            var relX = e.pageX - $this.offset().left;
            var relY = e.pageY - $this.offset().top;

            TweenMax.to(target, 1, {
                x: (relX - $this.width() / 2) / $this.width() * movement,
                y: (relY - $this.height() / 2) / $this.height() * movement
            });
        }
        function doFirst(){
            container = document.getElementById('container');
            //滑鼠每次移動的時候會呼叫函式parallaxIt，針對不同的class(.slide1~3)，給予不同的移動距離
                container.addEventListener('mousemove', function (e){
                parallaxIt(e, ".slide1", -100);
                parallaxIt(e, ".slide2", -50);
                parallaxIt(e, ".slide3", -75);
                parallaxIt(e, ".slide4", -25);
                parallaxIt(e, ".slide5", -125);

            });
        }     
        window.addEventListener('load', doFirst);
    </script>

<script>
        //建立一個圖表，內容就是follow套件chart.js的規則
        function createRadar(){
            var ctx = document.getElementById("radarCanvas").getContext('2d');
            Chart.defaults.global.legend.display = false;
            Chart.defaults.global.tooltips = false;
            //改字體大小
            Chart.defaults.global.defaultFontSize = 20;
            //因為畫完一次圖表之後希望可以再變動，所以用變數代表每個項目的值
            good = 3;
            sweet = 3;
            sour = 3;
            spicy = 3;
            radarOptions =
                {
                    scale:
                    {
                        ticks:
                        {
                            fontSize: 10,
                            beginAtZero: true,
                            maxTicksLimit: 7,
                            min: 0,
                            max: 5
                        },
                        pointLabels:
                        {
                            fontSize: 16,
                            color: '#0044BB'
                        },
                        gridLines:
                        {
                            // color: '#009FCC'
                        }
                    },
                    maintainAspectRatio: false
                };
            radarCanvas = new Chart(ctx, {
                type: 'radar',
                data: {
                    //項目標籤的文字
                    labels: ["Good", "Sweet", "Sour", "Spicy"],
                    datasets: [{
                        // label: '# of Votes',
                        data: [good, sweet, sour, spicy],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                        ],
                        borderColor: [
                            'rgba(255,99,132,1)',
                        ],
                        borderWidth: 1,
                        //端點的大小
                        pointRadius: 4,
                    }]
                },
                options: radarOptions
            });
        }
        function doFirst(){
            //呼叫函式，透過chart.js套件建立雷達圖
            createRadar();
            //取得input range們的物件關聯，並建立input事件聆聽函式updateRadar
            //(input類型的物件只要值有改變就是發生input事件)
            ranges = document.getElementsByClassName('radarRange');
            for(var i = 0; i < ranges.length; i++){
                ranges[i].addEventListener('input', updateRadar);
            }
        }
        window.addEventListener('load', doFirst);
    </script>
</body>
</html>