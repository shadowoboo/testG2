<!DOCTYPE html>
<html lang="zh_tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>cardModel</title>
    <link rel="stylesheet" href="../css/cardModel.css">
</head>

<body>
    <section class="section_7 section" id="section_7">
        <div class="cardCamera" id="cardCamera_7">
            <div class="cardBase" id="cardBase_7">
                <div class="cardBaseContent" id="cardBaseConten">
                    <div class="cardSurfaceInner cardContentInner_7" id="cardContentInner_7">封底</div>
                    <div class="cardSurface cardContent_7" id="cardContent_7">內容區
                        <div class="textTeam">
                            <div class="ctrlPos"></div>
                            <div class="textarea" contenteditable="true" placeholder="This is placeholder"></div>
                        </div>
                    </div>
                </div>
                <div class="cardBaseCover" id="cardBaseCover">
                    <div class="cardSurfaceInner cardCoverInner_7" id="cardCoverInner_7">封面(裡)</div>
                    <div class="cardSurface cardCover_7" id="cardCover_7">封面</div>
                </div>
            </div>
        </div>

        <div id="btns7">
            <div class="btn7" id="btn7_add">增</div>
            <div class="btn7" id="btn7_big">大</div>
            <div class="btn7" id="btn7_small">小</div>
            <div class="btn7" id="btn7_clk">順</div>
            <div class="btn7" id="btn7_unclk">逆</div>
            <div class="btn7" id="btn7_del">刪</div>
        </div>
    </section>

    <script>

        const btn7s = document.querySelectorAll(".btn7");
        const cardContent_7 = document.querySelector("#cardContent_7");
        // textAreas=document.getElementsByClassName("textArea");
        var arr_textArea = [];

        btn7s.forEach(elem => {
            elem.addEventListener("click", textCtrl);
        })

        // let len= textAreas.length;
        // console.log(`len: ${len}`);

        arr_textArea.foreach(elem => {
            elem.addEventListener("click", textSelect);
        })





        function textSelect(e) {
            alert("QQQQ")

            e.target.style.outline = "5px solid #ffa";
        }

        function textCtrl(e) {
            switch (this.id) {
                case "btn7_add":
                    var textarea = document.createElement('textarea');
                    textarea.style.width = '200px';
                    textarea.style.height = '100px';
                    textarea.style.position = "absolute";
                    textarea.style.top = "50%";
                    textarea.style.left = "50%";
                    textarea.placeholder = "點擊輸入文字";
                    textarea.classList.add("textArea");
                    arr_textArea.push(textarea);
                    console.log(`arr_textArea: ${arr_textArea}`);

                    cardContent_7.appendChild(textarea);
                    break;
                case "btn7_big":
                    // arrDropedImg.forEach(el => {
                    //     if (el.classList.contains("select")) {
                    //         console.log("to be bigger");
                    //         let arr = el.style.transform.split(" ");
                    //         //有小數點時記得使用parseFloat保留小數點!!!用parseInt會砍掉小數點!!
                    //         let newScale = parseFloat(arr[3].replace("scale(", "").replace(")", "")) + 0.5;
                    //         console.log("arr: " + arr);
                    //         console.log("arr[3]: " + arr[3]);
                    //         console.log(parseFloat(arr[3].replace("scale(", "").replace(")", "")));
                    //         console.log("newScale: " + newScale);
                    //         arr[3] = "scale(" + newScale + ")";
                    //         el.style.transform = `${arr[0]} ${arr[1]} ${arr[2]} ${arr[3]}`;
                    //     }
                    // })
                    break;
                case "btn7_small":
                    // arrDropedImg.forEach(el => {
                    //     if (el.classList.contains("select")) {
                    //         console.log("to be smaller");
                    //         let arr = el.style.transform.split(" ");
                    //         //有小數點時記得使用parseFloat保留小數點!!!用parseInt會砍掉小數點!!
                    //         let newScale = parseFloat(arr[3].replace("scale(", "").replace(")", "")) - 0.5;
                    //         if (newScale < 0.1) newScale = 0.1;
                    //         console.log("arr: " + arr);
                    //         console.log("arr[3]: " + arr[3]);
                    //         console.log(parseFloat(arr[3].replace("scale(", "").replace(")", "")));
                    //         console.log("newScale: " + newScale);
                    //         arr[3] = "scale(" + newScale + ")";
                    //         el.style.transform = `${arr[0]} ${arr[1]} ${arr[2]} ${arr[3]}`;
                    //     }
                    // })
                    break;
                case "btn7_clk":
                    // arrDropedImg.forEach(el => {
                    //     if (el.classList.contains("select")) {
                    //         console.log("clk rotate");
                    //         let arr = el.style.transform.split(" ");
                    //         //有小數點時記得使用parseFloat保留小數點!!!用parseInt會砍掉小數點!!
                    //         let newAngel = parseInt(arr[2].replace("rotate(", "").replace("deg)", "")) + 20;
                    //         console.log("arr: " + arr);
                    //         console.log("arr[3]: " + arr[2]);
                    //         console.log(parseInt(arr[2].replace("rotate(", "").replace("deg)", "")));
                    //         console.log("newAngel: " + newAngel);
                    //         arr[2] = "rotate(" + newAngel + "deg)";
                    //         el.style.transform = `${arr[0]} ${arr[1]} ${arr[2]} ${arr[3]}`;
                    //     }
                    // })
                    break;
                case "btn7_unclk":
                    // arrDropedImg.forEach(el => {
                    //     if (el.classList.contains("select")) {
                    //         console.log("unclk rotate");
                    //         let arr = el.style.transform.split(" ");
                    //         //有小數點時記得使用parseFloat保留小數點!!!用parseInt會砍掉小數點!!
                    //         let newAngel = parseInt(arr[2].replace("rotate(", "").replace("deg)", "")) - 20;
                    //         console.log("arr: " + arr);
                    //         console.log("arr[2]: " + arr[2]);
                    //         console.log(parseInt(arr[2].replace("rotate(", "").replace("deg)", "")));
                    //         console.log("newAngel: " + newAngel);
                    //         arr[2] = "rotate(" + newAngel + "deg)";
                    //         el.style.transform = `${arr[0]} ${arr[1]} ${arr[2]} ${arr[3]}`;
                    //     }
                    // })
                    break;
                case "btn7_del":
                    // arrDropedImg.forEach(el => {
                    //     if (el.classList.contains("select")) {
                    //         // el.parent
                    //         console.log("刪除前 " + arrDropedImg);
                    //         console.log(`el.parent: ${el.parentNode}`);
                    //         el.parentNode.removeChild(el);
                    //         console.log("刪除後 " + arrDropedImg);
                    //         //陣列內東西還在，但html確實移除該元素
                    //     } else { }//沒事，不想讓瀏覽器跳錯誤而已
                    // })
                    break;
            }
        }


        window.addEventListener("load", init);
    </script>
</body>

</html>